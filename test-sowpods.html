<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOWPODS Dictionary Test</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #f0f0f0;
        }
        #output {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>SOWPODS Dictionary Test</h1>
    <div id="output">Loading...</div>

    <script>
        async function testDictionary() {
            const output = document.getElementById('output');
            output.innerHTML = '<p>Loading SOWPODS dictionary...</p>';

            try {
                const response = await fetch('https://raw.githubusercontent.com/scrabblewords/scrabblewords/main/words/British/sowpods.txt');

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const text = await response.text();
                const words = text.split('\n').map(w => w.trim().toUpperCase()).filter(w => w.length >= 3);
                const wordSet = new Set(words);

                let html = '<h2 class="success">✓ Dictionary Loaded Successfully</h2>';
                html += `<p class="info">Total words: ${wordSet.size}</p>`;
                html += `<p class="info">Words with 3+ letters: ${words.length}</p>`;

                // Test some common Scrabble words
                const testWords = [
                    'QUIZ', 'ZEPHYR', 'QWERTY', 'QUIZZICAL', 'ZIGZAG',
                    'OXYPHENBUTAZONE', // longest Scrabble word
                    'HELLO', 'WORLD', 'SCRABBLE', 'BOGGLE',
                    'CAT', 'DOG', 'THE', 'AND'
                ];

                html += '<h3>Sample Word Tests:</h3><ul>';
                testWords.forEach(word => {
                    const found = wordSet.has(word);
                    html += `<li>${word}: ${found ? '<span class="success">✓ Found</span>' : '<span class="error">✗ Not Found</span>'}</li>`;
                });
                html += '</ul>';

                // Show some random words
                const randomWords = Array.from(wordSet).sort(() => 0.5 - Math.random()).slice(0, 20);
                html += '<h3>Random Sample Words:</h3>';
                html += '<p>' + randomWords.join(', ') + '</p>';

                // Check for 3-letter words count
                const threeLetterWords = words.filter(w => w.length === 3);
                html += `<h3>Statistics:</h3>`;
                html += `<p>3-letter words: ${threeLetterWords.length}</p>`;
                html += `<p>Sample 3-letter words: ${threeLetterWords.slice(0, 30).join(', ')}</p>`;

                output.innerHTML = html;

            } catch (error) {
                output.innerHTML = `<h2 class="error">✗ Failed to Load Dictionary</h2><p>Error: ${error.message}</p>`;
                console.error('Dictionary load error:', error);
            }
        }

        testDictionary();
    </script>
</body>
</html>
